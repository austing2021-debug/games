<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‰πòÊ≥ïÈô§Ê≥ïÊåëÊà∞</title>
    <style>
        body { margin: 0; font-family: "Varela Round", sans-serif; background: #e0f7fa; height: 100vh; display: flex; flex-direction: column; }
        header { padding: 10px; background: #00bcd4; display: flex; justify-content: space-between; }
        .btn { border: none; background: white; color: #00bcd4; padding: 5px 15px; border-radius: 15px; font-weight: bold; cursor: pointer; text-decoration: none;}
        .active { background: #008ba3; color: white; }
        
        #content { flex: 1; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        
        /* ËÉåË™¶Ë°®Ê†º */
        .table-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; width: 100%; max-width: 800px; }
        .table-card { background: white; padding: 10px; border-radius: 10px; border: 2px solid #b2ebf2; }
        .row { font-size: 0.9rem; color: #333; margin: 2px 0; border-bottom: 1px dashed #eee; }
        
        /* Ê∏¨È©óÂçÄ */
        .quiz-container { display: none; flex-direction: column; align-items: center; justify-content: center; height: 100%; width: 100%; }
        .q-text { font-size: 3.5rem; font-weight: bold; margin-bottom: 20px; color: #006064; }
        .input-area { display: flex; gap: 10px; }
        #ansInput { font-size: 2rem; width: 100px; text-align: center; border: 3px solid #00bcd4; border-radius: 10px; }
        .numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 20px; }
        .key { width: 70px; height: 70px; background: white; border-radius: 50%; border: 2px solid #ddd; font-size: 1.5rem; font-weight: bold; cursor: pointer; display: flex; justify-content: center; align-items: center; box-shadow: 0 4px 0 #ccc; }
        .key:active { transform: translateY(4px); box-shadow: none; }

        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: none; justify-content: center; align-items: center; flex-direction: column; color: white; z-index: 200; }
        .modal h1 { font-size: 3rem; margin: 0; color: #ffeb3b; text-shadow: 2px 2px 0 #000; }
        .modal button { margin-top: 20px; padding: 10px 30px; font-size: 1.5rem; background: #00bcd4; border: none; border-radius: 30px; color: white; cursor: pointer; }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="btn">‚óÄ È¶ñÈ†Å</a>
        <div>
            <button class="btn active" id="btnRecite" onclick="setMode('recite')">ËÉåË™¶Ë°®</button>
            <button class="btn" id="btnQuiz" onclick="setMode('quiz')">ÈöäÈï∑ÊåëÊà∞</button>
        </div>
    </header>

    <div id="content">
        <div id="reciteArea" class="table-grid"></div>
        
        <div id="quizArea" class="quiz-container">
            <div style="margin-bottom:10px;">
                <label><input type="radio" name="op" value="*" checked onchange="nextQ()"> ‰πòÊ≥ï</label>
                <label><input type="radio" name="op" value="/" onchange="nextQ()"> Èô§Ê≥ï</label>
            </div>
            <div class="q-text" id="question">2 √ó 3 = ?</div>
            <div class="input-area">
                <input type="number" id="ansInput" readonly>
            </div>
            <div class="numpad">
                <div class="key" onclick="kp('1')">1</div><div class="key" onclick="kp('2')">2</div><div class="key" onclick="kp('3')">3</div>
                <div class="key" onclick="kp('4')">4</div><div class="key" onclick="kp('5')">5</div><div class="key" onclick="kp('6')">6</div>
                <div class="key" onclick="kp('7')">7</div><div class="key" onclick="kp('8')">8</div><div class="key" onclick="kp('9')">9</div>
                <div class="key" style="background:#ffcdd2" onclick="kp('C')">C</div>
                <div class="key" onclick="kp('0')">0</div>
                <div class="key" style="background:#c8e6c9" onclick="check()">OK</div>
            </div>
        </div>
    </div>

    <div class="modal" id="winModal">
        <h1>‰Ω†Â•ΩÊ£í! üåü</h1>
        <button onclick="nextQ()">‰∏ã‰∏ÄÈ°å</button>
    </div>

    <script>
        let curAns = 0;
        
        window.onload = () => { genTables(); setMode('recite'); };

        function setMode(m) {
            document.getElementById('reciteArea').style.display = m === 'recite' ? 'grid' : 'none';
            document.getElementById('quizArea').style.display = m === 'quiz' ? 'flex' : 'none';
            document.getElementById('btnRecite').className = m === 'recite' ? 'btn active' : 'btn';
            document.getElementById('btnQuiz').className = m === 'quiz' ? 'btn active' : 'btn';
            if(m === 'quiz') nextQ();
        }

        function genTables() {
            const container = document.getElementById('reciteArea');
            for(let i=2; i<=9; i++) {
                let html = `<div class="table-card"><div style="text-align:center;font-weight:bold;margin-bottom:5px;font-size:1.2rem;color:#008ba3">${i} ÁöÑ‰πòÊ≥ï</div>`;
                for(let j=1; j<=9; j++) {
                    html += `<div class="row">${i} √ó ${j} = ${i*j}</div>`;
                }
                html += `</div>`;
                container.innerHTML += html;
            }
        }

        function nextQ() {
            document.getElementById('winModal').style.display = 'none';
            document.getElementById('ansInput').value = '';
            const isMult = document.querySelector('input[name="op"]:checked').value === '*';
            
            let n1, n2;
            if(isMult) {
                n1 = Math.floor(Math.random()*8)+2; // 2-9
                n2 = Math.floor(Math.random()*9)+1; // 1-9
                curAns = n1 * n2;
                document.getElementById('question').innerText = `${n1} √ó ${n2} = ?`;
            } else {
                // Èô§Ê≥ïÔºöÁ¢∫‰øùÊï¥Èô§ (ÂèçÂêë‰πòÊ≥ï)
                n2 = Math.floor(Math.random()*8)+2; 
                curAns = Math.floor(Math.random()*9)+1; 
                n1 = n2 * curAns;
                document.getElementById('question').innerText = `${n1} √∑ ${n2} = ?`;
            }
        }

        function kp(k) {
            const inp = document.getElementById('ansInput');
            if(k === 'C') inp.value = '';
            else inp.value += k;
        }

        function check() {
            if(parseInt(document.getElementById('ansInput').value) === curAns) {
                document.getElementById('winModal').style.display = 'flex';
            } else {
                alert("ÂÜçË©¶Ë©¶ÁúãÂñîÔºÅ");
                document.getElementById('ansInput').value = '';
            }
        }
    </script>
</body>
</html>
